version: "3.8"

services:
  bot:
    build: .
    container_name: boda8-bot
    restart: always
    ports:
      - "8081:8080"
    environment:
      - PORT=8080
      # Use the DATABASE_URL provided by Coolify (Managed DB)
      # - DATABASE_URL=postgresql://...
      - TZ=Asia/Kuala_Lumpur
      # App Config
      - LOG_LEVEL=INFO
      - DB_POOL_SIZE=5
      # Telegram Secrets (Set these in Coolify Env Vars)
      - TOKEN=${TOKEN}
      # Optional: set PUBLIC_BASE_URL if you want /addbot to auto-configure webhook
      - PUBLIC_BASE_URL=${PUBLIC_BASE_URL}
